2025-11-07T12:59:38.3934195Z ##[group]Run .\scripts\run-tests.ps1
2025-11-07T12:59:38.3934564Z [36;1m.\scripts\run-tests.ps1[0m
2025-11-07T12:59:38.4004123Z shell: C:\Windows\System32\WindowsPowerShell\v1.0\powershell.EXE -command ". '{0}'"
2025-11-07T12:59:38.4004531Z env:
2025-11-07T12:59:38.4004793Z   pythonLocation: C:\hostedtoolcache\windows\Python\3.9.13\x64
2025-11-07T12:59:38.4005225Z   PKG_CONFIG_PATH: C:\hostedtoolcache\windows\Python\3.9.13\x64/lib/pkgconfig
2025-11-07T12:59:38.4005616Z   Python_ROOT_DIR: C:\hostedtoolcache\windows\Python\3.9.13\x64
2025-11-07T12:59:38.4005968Z   Python2_ROOT_DIR: C:\hostedtoolcache\windows\Python\3.9.13\x64
2025-11-07T12:59:38.4006310Z   Python3_ROOT_DIR: C:\hostedtoolcache\windows\Python\3.9.13\x64
2025-11-07T12:59:38.4006608Z ##[endgroup]
2025-11-07T12:59:38.8165655Z 
2025-11-07T12:59:38.8182970Z ============================================================
2025-11-07T12:59:38.8190933Z   RDD Framework Test Runner (Windows)
2025-11-07T12:59:38.8198391Z ============================================================
2025-11-07T12:59:38.8202589Z 
2025-11-07T12:59:38.8209967Z [INFO] Checking prerequisites...
2025-11-07T12:59:38.8351914Z [OK] Python found: Python 3.9.13
2025-11-07T12:59:38.8407893Z [OK] Virtual environment found
2025-11-07T12:59:38.8415373Z [INFO] Activating virtual environment...
2025-11-07T12:59:38.9943840Z [OK] Virtual environment activated
2025-11-07T12:59:39.4885852Z [OK] pytest found: pytest 8.4.2
2025-11-07T12:59:39.4890504Z 
2025-11-07T12:59:39.4898777Z ============================================================
2025-11-07T12:59:39.4906825Z   Running Tests
2025-11-07T12:59:39.4914425Z ============================================================
2025-11-07T12:59:39.4918470Z 
2025-11-07T12:59:39.4925576Z [1/4] Running Python unit tests
2025-11-07T12:59:39.8404228Z ============================= test session starts =============================
2025-11-07T12:59:39.8408415Z platform win32 -- Python 3.9.13, pytest-8.4.2, pluggy-1.6.0 -- D:\a\requirements-driven-development\requirements-driven-development\.venv\Scripts\python.exe
2025-11-07T12:59:39.8409674Z cachedir: .pytest_cache
2025-11-07T12:59:39.8410133Z rootdir: D:\a\requirements-driven-development\requirements-driven-development
2025-11-07T12:59:39.8410715Z plugins: cov-7.0.0, mock-3.15.1, timeout-2.4.0, xdist-3.8.0
2025-11-07T12:59:39.9392872Z collecting ... collected 49 items
2025-11-07T12:59:39.9393206Z 
2025-11-07T12:59:40.2451251Z tests/python/test_integration.py::TestChangeWorkflow::test_fix_branch_workflow PASSED [  2%]
2025-11-07T12:59:40.5058569Z tests/python/test_integration.py::TestRequirementsManagement::test_requirements_changes_format PASSED [  4%]
2025-11-07T12:59:40.7653854Z tests/python/test_integration.py::TestWorkspaceArchiving::test_workspace_backup_creation PASSED [  6%]
2025-11-07T12:59:41.0739482Z tests/python/test_integration.py::TestGitIntegration::test_branch_creation_and_switching PASSED [  8%]
2025-11-07T12:59:41.3446578Z tests/python/test_integration.py::TestGitIntegration::test_uncommitted_changes_detection PASSED [ 10%]
2025-11-07T12:59:41.7278544Z tests/python/test_integration.py::TestConfigManagement::test_config_read_write_cycle PASSED [ 12%]
2025-11-07T12:59:42.0538581Z tests/python/test_integration.py::TestConfigManagement::test_config_default_branch PASSED [ 14%]
2025-11-07T12:59:42.0557243Z tests/python/test_rdd_main.py::TestCLIHelp::test_version_command PASSED  [ 16%]
2025-11-07T12:59:42.0571780Z tests/python/test_rdd_main.py::TestCLIHelp::test_help_command PASSED     [ 18%]
2025-11-07T12:59:42.0586719Z tests/python/test_rdd_main.py::TestDomainRouting::test_config_show_routing PASSED [ 20%]
2025-11-07T12:59:42.0602568Z tests/python/test_rdd_main.py::TestDomainRouting::test_workspace_init_routing PASSED [ 22%]
2025-11-07T12:59:42.1518733Z tests/python/test_rdd_main.py::TestChangeCommands::test_change_create_requires_default_branch PASSED [ 24%]
2025-11-07T12:59:42.3419987Z tests/python/test_rdd_main.py::TestMenuInteraction::test_curses_menu_selection FAILED [ 26%]
2025-11-07T12:59:42.3436468Z tests/python/test_rdd_main.py::TestValidationCommands::test_check_repo_valid PASSED [ 28%]
2025-11-07T12:59:42.3451215Z tests/python/test_rdd_main.py::TestErrorHandling::test_no_command_shows_help PASSED [ 30%]
2025-11-07T12:59:42.3465220Z tests/python/test_rdd_main.py::TestErrorHandling::test_invalid_domain_error PASSED [ 32%]
2025-11-07T12:59:42.3479937Z tests/python/test_rdd_main.py::TestErrorHandling::test_invalid_action_error PASSED [ 34%]
2025-11-07T12:59:42.3492747Z tests/python/test_rdd_utils.py::TestOutputFunctions::test_print_success PASSED [ 36%]
2025-11-07T12:59:42.3506961Z tests/python/test_rdd_utils.py::TestOutputFunctions::test_print_error PASSED [ 38%]
2025-11-07T12:59:42.3521884Z tests/python/test_rdd_utils.py::TestOutputFunctions::test_print_warning PASSED [ 40%]
2025-11-07T12:59:42.3535602Z tests/python/test_rdd_utils.py::TestOutputFunctions::test_print_info PASSED [ 42%]
2025-11-07T12:59:42.3549996Z tests/python/test_rdd_utils.py::TestValidationFunctions::test_validate_name_valid PASSED [ 44%]
2025-11-07T12:59:42.3564328Z tests/python/test_rdd_utils.py::TestValidationFunctions::test_validate_name_with_spaces PASSED [ 46%]
2025-11-07T12:59:42.3577339Z tests/python/test_rdd_utils.py::TestValidationFunctions::test_validate_name_with_special_chars PASSED [ 48%]
2025-11-07T12:59:42.3589945Z tests/python/test_rdd_utils.py::TestValidationFunctions::test_validate_name_empty PASSED [ 51%]
2025-11-07T12:59:42.3604984Z tests/python/test_rdd_utils.py::TestValidationFunctions::test_normalize_to_kebab_case PASSED [ 53%]
2025-11-07T12:59:42.3633912Z tests/python/test_rdd_utils.py::TestValidationFunctions::test_validate_file_exists PASSED [ 55%]
2025-11-07T12:59:42.3654517Z tests/python/test_rdd_utils.py::TestValidationFunctions::test_validate_dir_exists PASSED [ 57%]
2025-11-07T12:59:42.3684076Z tests/python/test_rdd_utils.py::TestGitFunctions::test_check_git_repo_valid PASSED [ 59%]
2025-11-07T12:59:42.3705801Z tests/python/test_rdd_utils.py::TestGitFunctions::test_check_git_repo_invalid PASSED [ 61%]
2025-11-07T12:59:42.3720904Z tests/python/test_rdd_utils.py::TestGitFunctions::test_get_current_branch PASSED [ 63%]
2025-11-07T12:59:42.6345051Z tests/python/test_rdd_utils.py::TestGitFunctions::test_get_default_branch_from_config PASSED [ 65%]
2025-11-07T12:59:42.6362223Z tests/python/test_rdd_utils.py::TestGitFunctions::test_get_branch_type_fix PASSED [ 67%]
2025-11-07T12:59:42.6379426Z tests/python/test_rdd_utils.py::TestGitFunctions::test_get_branch_type_enh PASSED [ 69%]
2025-11-07T12:59:42.6394586Z tests/python/test_rdd_utils.py::TestGitFunctions::test_get_branch_type_main PASSED [ 71%]
2025-11-07T12:59:42.6410207Z tests/python/test_rdd_utils.py::TestGitFunctions::test_is_enh_or_fix_branch PASSED [ 73%]
2025-11-07T12:59:42.6421847Z tests/python/test_rdd_utils.py::TestTimestampFunctions::test_get_timestamp_format PASSED [ 75%]
2025-11-07T12:59:42.6432956Z tests/python/test_rdd_utils.py::TestTimestampFunctions::test_get_timestamp_filename_format PASSED [ 77%]
2025-11-07T12:59:42.9548625Z tests/python/test_rdd_utils.py::TestConfigFunctions::test_get_rdd_config_existing_key PASSED [ 79%]
2025-11-07T12:59:43.2518248Z tests/python/test_rdd_utils.py::TestConfigFunctions::test_get_rdd_config_missing_key_with_default PASSED [ 81%]
2025-11-07T12:59:43.5456883Z tests/python/test_rdd_utils.py::TestConfigFunctions::test_set_rdd_config PASSED [ 83%]
2025-11-07T12:59:43.8500711Z tests/python/test_rdd_utils.py::TestConfigFunctions::test_get_rdd_config_path FAILED [ 85%]
2025-11-07T12:59:43.8533461Z tests/python/test_rdd_utils.py::TestWorkspaceUtilities::test_ensure_dir_creates_directory PASSED [ 87%]
2025-11-07T12:59:43.8553585Z tests/python/test_rdd_utils.py::TestWorkspaceUtilities::test_ensure_dir_existing_directory PASSED [ 89%]
2025-11-07T12:59:44.1197673Z tests/python/test_rdd_utils.py::TestPromptFunctions::test_mark_prompt_completed PASSED [ 91%]
2025-11-07T12:59:44.1214177Z tests/python/test_rdd_utils.py::TestConfirmAction::test_confirm_action_yes PASSED [ 93%]
2025-11-07T12:59:44.1228615Z tests/python/test_rdd_utils.py::TestConfirmAction::test_confirm_action_no PASSED [ 95%]
2025-11-07T12:59:44.1241791Z tests/python/test_rdd_utils.py::TestConfirmAction::test_confirm_action_yes_full PASSED [ 97%]
2025-11-07T12:59:44.1599670Z tests/python/test_rdd_utils.py::TestConfirmAction::test_confirm_action_invalid PASSED [100%]
2025-11-07T12:59:44.1600648Z 
2025-11-07T12:59:44.1600785Z ================================== FAILURES ===================================
2025-11-07T12:59:44.1601324Z _______________ TestMenuInteraction.test_curses_menu_selection ________________
2025-11-07T12:59:44.1601988Z C:\hostedtoolcache\windows\Python\3.9.13\x64\lib\unittest\mock.py:1333: in patched
2025-11-07T12:59:44.1602563Z     with self.decoration_helper(patched,
2025-11-07T12:59:44.1603066Z C:\hostedtoolcache\windows\Python\3.9.13\x64\lib\contextlib.py:119: in __enter__
2025-11-07T12:59:44.1603576Z     return next(self.gen)
2025-11-07T12:59:44.1604057Z C:\hostedtoolcache\windows\Python\3.9.13\x64\lib\unittest\mock.py:1315: in decoration_helper
2025-11-07T12:59:44.1604624Z     arg = exit_stack.enter_context(patching)
2025-11-07T12:59:44.1605148Z C:\hostedtoolcache\windows\Python\3.9.13\x64\lib\contextlib.py:448: in enter_context
2025-11-07T12:59:44.1605660Z     result = _cm_type.__enter__(cm)
2025-11-07T12:59:44.1606147Z C:\hostedtoolcache\windows\Python\3.9.13\x64\lib\unittest\mock.py:1388: in __enter__
2025-11-07T12:59:44.1606651Z     self.target = self.getter()
2025-11-07T12:59:44.1607121Z C:\hostedtoolcache\windows\Python\3.9.13\x64\lib\unittest\mock.py:1563: in <lambda>
2025-11-07T12:59:44.1607635Z     getter = lambda: _importer(target)
2025-11-07T12:59:44.1608124Z C:\hostedtoolcache\windows\Python\3.9.13\x64\lib\unittest\mock.py:1235: in _importer
2025-11-07T12:59:44.1608639Z     thing = __import__(import_path)
2025-11-07T12:59:44.1609105Z C:\hostedtoolcache\windows\Python\3.9.13\x64\lib\curses\__init__.py:13: in <module>
2025-11-07T12:59:44.1609606Z     from _curses import *
2025-11-07T12:59:44.1609911Z E   ModuleNotFoundError: No module named '_curses'
2025-11-07T12:59:44.1610388Z ________________ TestConfigFunctions.test_get_rdd_config_path _________________
2025-11-07T12:59:44.1611121Z D:\a\requirements-driven-development\requirements-driven-development\tests\python\test_rdd_utils.py:178: in test_get_rdd_config_path
2025-11-07T12:59:44.1611741Z     assert Path(config_path) == expected
2025-11-07T12:59:44.1612927Z E   AssertionError: assert WindowsPath('C:/Users/runneradmin/AppData/Local/Temp/tmpwof7q6ep/.rdd-docs/config.json') == WindowsPath('C:/Users/RUNNER~1/AppData/Local/Temp/tmpwof7q6ep/.rdd-docs/config.json')
2025-11-07T12:59:44.1615059Z E    +  where WindowsPath('C:/Users/runneradmin/AppData/Local/Temp/tmpwof7q6ep/.rdd-docs/config.json') = Path('C:/Users/runneradmin/AppData/Local/Temp/tmpwof7q6ep\\.rdd-docs\\config.json')
2025-11-07T12:59:44.1616433Z =========================== short test summary info ===========================
2025-11-07T12:59:44.1617595Z FAILED tests/python/test_rdd_main.py::TestMenuInteraction::test_curses_menu_selection - ModuleNotFoundError: No module named '_curses'
2025-11-07T12:59:44.1620475Z FAILED tests/python/test_rdd_utils.py::TestConfigFunctions::test_get_rdd_config_path - AssertionError: assert WindowsPath('C:/Users/runneradmin/AppData/Local/Temp/tmpwof7q6ep/.rdd-docs/config.json') == WindowsPath('C:/Users/RUNNER~1/AppData/Local/Temp/tmpwof7q6ep/.rdd-docs/config.json')
2025-11-07T12:59:44.1622234Z  +  where WindowsPath('C:/Users/runneradmin/AppData/Local/Temp/tmpwof7q6ep/.rdd-docs/config.json') = Path('C:/Users/runneradmin/AppData/Local/Temp/tmpwof7q6ep\\.rdd-docs\\config.json')
2025-11-07T12:59:44.1623331Z ======================== 2 failed, 47 passed in 4.30s =========================
2025-11-07T12:59:44.2033955Z [ERROR] Python unit tests failed
2025-11-07T12:59:44.2044879Z 
2025-11-07T12:59:44.2052859Z [2/4] Running build tests
2025-11-07T12:59:44.5308503Z ============================= test session starts =============================
2025-11-07T12:59:44.5310086Z platform win32 -- Python 3.9.13, pytest-8.4.2, pluggy-1.6.0 -- D:\a\requirements-driven-development\requirements-driven-development\.venv\Scripts\python.exe
2025-11-07T12:59:44.5310937Z cachedir: .pytest_cache
2025-11-07T12:59:44.5311397Z rootdir: D:\a\requirements-driven-development\requirements-driven-development
2025-11-07T12:59:44.5312128Z plugins: cov-7.0.0, mock-3.15.1, timeout-2.4.0, xdist-3.8.0
2025-11-07T12:59:44.5652775Z collecting ... collected 15 items
2025-11-07T12:59:44.5653180Z 
2025-11-07T12:59:44.5852393Z tests/build/test_build.py::TestVersionExtraction::test_read_version_from_config PASSED [  6%]
2025-11-07T12:59:44.6138086Z tests/build/test_build.py::TestBuildDirCreation::test_create_build_dir PASSED [ 13%]
2025-11-07T12:59:44.6394387Z tests/build/test_build.py::TestFileCopying::test_copy_prompts PASSED     [ 20%]
2025-11-07T12:59:44.6672242Z tests/build/test_build.py::TestFileCopying::test_copy_scripts PASSED     [ 26%]
2025-11-07T12:59:44.6932139Z tests/build/test_build.py::TestFileCopying::test_copy_templates PASSED   [ 33%]
2025-11-07T12:59:44.7210207Z tests/build/test_build.py::TestFileCopying::test_copy_vscode_settings PASSED [ 40%]
2025-11-07T12:59:44.7589455Z tests/build/test_build.py::TestFileCopying::test_copy_rdd_docs_seeds PASSED [ 46%]
2025-11-07T12:59:44.7845681Z tests/build/test_build.py::TestTemplateGeneration::test_generate_readme PASSED [ 53%]
2025-11-07T12:59:44.8268543Z tests/build/test_build.py::TestTemplateGeneration::test_generate_installer PASSED [ 60%]
2025-11-07T12:59:44.8750279Z tests/build/test_build.py::TestTemplateGeneration::test_generate_bash_installer PASSED [ 66%]
2025-11-07T12:59:44.9033546Z tests/build/test_build.py::TestTemplateGeneration::test_generate_powershell_installer PASSED [ 73%]
2025-11-07T12:59:44.9327747Z tests/build/test_build.py::TestArchiveCreation::test_create_archive PASSED [ 80%]
2025-11-07T12:59:44.9669881Z tests/build/test_build.py::TestChecksumGeneration::test_generate_checksum PASSED [ 86%]
2025-11-07T12:59:44.9683558Z tests/build/test_build.py::TestOutputFunctions::test_print_success PASSED [ 93%]
2025-11-07T12:59:44.9923278Z tests/build/test_build.py::TestOutputFunctions::test_print_error PASSED  [100%]
2025-11-07T12:59:44.9923727Z 
2025-11-07T12:59:44.9923858Z ============================= 15 passed in 0.45s ==============================
2025-11-07T12:59:45.0274985Z [OK] Build tests passed
2025-11-07T12:59:45.0278684Z 
2025-11-07T12:59:45.0285950Z [3/4] Running install tests
2025-11-07T12:59:45.3461856Z ============================= test session starts =============================
2025-11-07T12:59:45.3463612Z platform win32 -- Python 3.9.13, pytest-8.4.2, pluggy-1.6.0 -- D:\a\requirements-driven-development\requirements-driven-development\.venv\Scripts\python.exe
2025-11-07T12:59:45.3464705Z cachedir: .pytest_cache
2025-11-07T12:59:45.3465284Z rootdir: D:\a\requirements-driven-development\requirements-driven-development
2025-11-07T12:59:45.3466078Z plugins: cov-7.0.0, mock-3.15.1, timeout-2.4.0, xdist-3.8.0
2025-11-07T12:59:45.3807148Z collecting ... collected 21 items
2025-11-07T12:59:45.3807453Z 
2025-11-07T12:59:45.3823325Z tests/install/test_install.py::TestPreFlightChecks::test_check_python_version_success PASSED [  4%]
2025-11-07T12:59:45.3842294Z tests/install/test_install.py::TestPreFlightChecks::test_check_git_installed_success PASSED [  9%]
2025-11-07T12:59:45.3859667Z tests/install/test_install.py::TestPreFlightChecks::test_check_git_installed_failure PASSED [ 14%]
2025-11-07T12:59:45.6268197Z tests/install/test_install.py::TestPreFlightChecks::test_check_git_repo_valid PASSED [ 19%]
2025-11-07T12:59:45.6289734Z tests/install/test_install.py::TestPreFlightChecks::test_check_git_repo_invalid PASSED [ 23%]
2025-11-07T12:59:45.8846250Z tests/install/test_install.py::TestExistingInstallationDetection::test_detect_existing_installation_none PASSED [ 28%]
2025-11-07T12:59:46.1382919Z tests/install/test_install.py::TestExistingInstallationDetection::test_detect_existing_installation_found PASSED [ 33%]
2025-11-07T12:59:46.4573699Z tests/install/test_install.py::TestFileOperations::test_copy_prompts PASSED [ 38%]
2025-11-07T12:59:46.7526214Z tests/install/test_install.py::TestFileOperations::test_copy_framework PASSED [ 42%]
2025-11-07T12:59:47.0238006Z tests/install/test_install.py::TestFileOperations::test_copy_seed_templates PASSED [ 47%]
2025-11-07T12:59:47.2611467Z tests/install/test_install.py::TestSettingsMerge::test_merge_settings_empty_target PASSED [ 52%]
2025-11-07T12:59:47.2622531Z tests/install/test_install.py::TestSettingsMerge::test_merge_settings_existing_values PASSED [ 57%]
2025-11-07T12:59:47.2633669Z tests/install/test_install.py::TestSettingsMerge::test_merge_settings_object_merge PASSED [ 61%]
2025-11-07T12:59:47.5096146Z tests/install/test_install.py::TestGitignoreUpdate::test_update_gitignore_new_file PASSED [ 66%]
2025-11-07T12:59:47.7607799Z tests/install/test_install.py::TestGitignoreUpdate::test_update_gitignore_existing_file PASSED [ 71%]
2025-11-07T12:59:48.0115642Z tests/install/test_install.py::TestGitignoreUpdate::test_update_gitignore_already_present PASSED [ 76%]
2025-11-07T12:59:48.3276713Z tests/install/test_install.py::TestVerification::test_verify_installation_success PASSED [ 80%]
2025-11-07T12:59:48.5742972Z tests/install/test_install.py::TestVerification::test_verify_installation_missing_files PASSED [ 85%]
2025-11-07T12:59:48.5756774Z tests/install/test_install.py::TestOutputFunctions::test_print_banner PASSED [ 90%]
2025-11-07T12:59:48.5770319Z tests/install/test_install.py::TestOutputFunctions::test_print_success PASSED [ 95%]
2025-11-07T12:59:48.6029154Z tests/install/test_install.py::TestOutputFunctions::test_print_error PASSED [100%]
2025-11-07T12:59:48.6029678Z 
2025-11-07T12:59:48.6029807Z ============================= 21 passed in 3.25s ==============================
2025-11-07T12:59:48.6317340Z [OK] Install tests passed
2025-11-07T12:59:48.6321287Z 
2025-11-07T12:59:48.6328705Z [4/4] Running PowerShell tests (Pester)
2025-11-07T12:59:52.1580432Z [95m
2025-11-07T12:59:52.1581933Z [95mStarting discovery in 1 files.[0m
2025-11-07T12:59:53.8841694Z [95mDiscovery found 27 tests in 1.34s.[0m
2025-11-07T12:59:53.9908496Z [95mRunning tests.[0m
2025-11-07T12:59:58.2161960Z Test message
2025-11-07T12:59:58.2234059Z Test
2025-11-07T12:59:58.9133489Z [32m[+] D:\a\requirements-driven-development\requirements-driven-development\tests\powershell\Install.Tests.ps1[0m[90m 6.05s (1.81s|3.04s)[0m
2025-11-07T12:59:59.4951282Z [97mTests completed in 6.17s[0m
2025-11-07T12:59:59.5180760Z [32mTests Passed: 27, [0m[90mFailed: 0, [0m[90mSkipped: 0, [0m[90mInconclusive: 0, [0m[37m[0m[90mNotRun: 0[0m
2025-11-07T12:59:59.8846241Z [OK] PowerShell tests passed
2025-11-07T12:59:59.8850096Z 
2025-11-07T12:59:59.8853998Z 
2025-11-07T12:59:59.8861161Z ============================================================
2025-11-07T12:59:59.8868659Z   Test Summary
2025-11-07T12:59:59.8875734Z ============================================================
2025-11-07T12:59:59.8879168Z 
2025-11-07T12:59:59.8886727Z Total test suites: 4
2025-11-07T12:59:59.8894044Z Passed: 3
2025-11-07T12:59:59.8901293Z Failed: 1
2025-11-07T12:59:59.8904929Z 
2025-11-07T12:59:59.8912602Z [ERROR] Some tests failed
2025-11-07T12:59:59.9158303Z ##[error]Process completed with exit code 1.
